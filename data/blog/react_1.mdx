---
title: ğŸ“ˆã€åŸºç¡€ç¯‡ã€‘è®¤è¯† jsx
date: '2024-06-20'
tags: ['react']
draft: false
summary: ä¸‡ç‰©å§‹äº jsxï¼Œæƒ³è¦æ·±å…¥å­¦ä¹  react ï¼Œå°±åº”è¯¥ä» jsx å…¥æ‰‹ã€‚
---

## 1. Babel å¤„ç†åçš„æ ·å­

é¦–å…ˆæ¥çœ‹ä¸€ä¸‹ React.createElement çš„ç”¨æ³•ã€‚

```js
React.createElement(type, [props], [...children])
```

`createElement` å‚æ•°ï¼š

- ç¬¬ä¸€ä¸ªå‚æ•°ï¼šå¦‚æœæ˜¯ç»„ä»¶ç±»å‹ï¼Œä¼šä¼ å…¥ç»„ä»¶å¯¹åº”çš„ç±»æˆ–å‡½æ•°ï¼›å¦‚æœæ˜¯ dom å…ƒç´ ç±»å‹ï¼Œä¼ å…¥ div æˆ–è€… span ä¹‹ç±»çš„å­—ç¬¦ä¸²ã€‚

- ç¬¬äºŒä¸ªå‚æ•°ï¼šä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨ dom ç±»å‹ä¸­ä¸ºæ ‡ç­¾å±æ€§ï¼Œåœ¨ç»„ä»¶ç±»å‹ä¸­ä¸º props ã€‚

- å…¶ä»–å‚æ•°ï¼šä¾æ¬¡ä¸º childrenï¼Œæ ¹æ®é¡ºåºæ’åˆ—ã€‚

ä¸¾ä¸ªä¾‹å­ï¼š

```js
<div>
  <TextComponent />
  <div>hello,world</div>
  let us learn React!
</div>
```

ä¸Šé¢çš„ä»£ç ä¼šè¢« babel å…ˆç¼–è¯‘æˆï¼š

```js
React.createElement(
  'div',
  null,
  React.createElement(TextComponent, null),
  React.createElement('div', null, 'hello,world'),
  'let us learn React!'
)
```

#### Q: è€ç‰ˆæœ¬çš„ React ä¸­ï¼Œä¸ºä»€ä¹ˆå†™ jsx çš„æ–‡ä»¶è¦é»˜è®¤å¼•å…¥ React?

```js
import React from 'react'
function Index() {
  return <div>hello,world</div>
}
```

ç­”ï¼šå› ä¸º jsx åœ¨è¢« babel ç¼–è¯‘åï¼Œå†™çš„ jsx ä¼šå˜æˆä¸Šè¿° React.createElement å½¢å¼ï¼Œæ‰€ä»¥éœ€è¦å¼•å…¥ Reactï¼Œé˜²æ­¢æ‰¾ä¸åˆ° React å¼•èµ·æŠ¥é”™ã€‚

## 2. createElement å¤„ç†åçš„æ ·å­

| `jsx`å…ƒç´ ç±»å‹     | `react.createElement` è½¬æ¢å                      | `type` å±æ€§                   |
| ----------------- | ------------------------------------------------- | ----------------------------- |
| `element`å…ƒç´ ç±»å‹ | `react element`ç±»å‹                               | æ ‡ç­¾å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ `div`        |
| `fragment`ç±»å‹    | `react element`ç±»å‹                               | `symbol` `react.fragment`ç±»å‹ |
| æ–‡æœ¬ç±»å‹          | ç›´æ¥å­—ç¬¦ä¸²                                        | æ—                             |
| æ•°ç»„ç±»å‹          | è¿”å›æ•°ç»„ç»“æ„ï¼Œé‡Œé¢å…ƒç´ è¢«`react.createElement`è½¬æ¢ | æ—                             |
| ç»„ä»¶ç±»å‹          | `react element`ç±»å‹                               | ç»„ä»¶ç±»æˆ–è€…ç»„ä»¶å‡½æ•°æœ¬èº«        |
| ä¸‰å…ƒè¿ç®— / è¡¨è¾¾å¼ | å…ˆæ‰§è¡Œä¸‰å…ƒè¿ç®—ï¼Œç„¶åæŒ‰ç…§ä¸Šè¿°è§„åˆ™å¤„ç†              | çœ‹ä¸‰å…ƒè¿ç®—è¿”å›ç»“æœ            |
| å‡½æ•°æ‰§è¡Œ          | å…ˆæ‰§è¡Œå‡½æ•°ï¼Œç„¶åæŒ‰ç…§ä¸Šè¿°è§„åˆ™å¤„ç†                  | çœ‹å‡½æ•°æ‰§è¡Œè¿”å›ç»“æœ            |

## 3. React åº•å±‚è°ƒå’Œå¤„ç†åï¼Œç»ˆå°†å˜æˆä»€ä¹ˆï¼Ÿ

æœ€ç»ˆï¼Œåœ¨è°ƒå’Œé˜¶æ®µï¼Œä¸Šè¿° React element å¯¹è±¡çš„æ¯ä¸€ä¸ªå­èŠ‚ç‚¹éƒ½ä¼šå½¢æˆä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„ fiber å¯¹è±¡ï¼Œç„¶åé€šè¿‡ siblingã€returnã€child å°†æ¯ä¸€ä¸ª fiber å¯¹è±¡è”ç³»èµ·æ¥ã€‚

![react1.1.jpg](http://blog.minouccc.online:9000/blog/react_1.1.png)

fiber å¯¹åº”å…³ç³»

- childï¼š ä¸€ä¸ªç”±çˆ¶çº§ fiber æŒ‡å‘å­çº§ fiber çš„æŒ‡é’ˆã€‚
- returnï¼šä¸€ä¸ªå­çº§ fiber æŒ‡å‘çˆ¶çº§ fiber çš„æŒ‡é’ˆã€‚
- sibling: ä¸€ä¸ª fiber æŒ‡å‘ä¸‹ä¸€ä¸ªå…„å¼Ÿ fiber çš„æŒ‡é’ˆã€‚

æ¸©é¦¨æç¤ºï¼š

- å¯¹äºä¸Šè¿°åœ¨ jsx ä¸­å†™çš„ map æ•°ç»„ç»“æ„çš„å­èŠ‚ç‚¹ï¼Œå¤–å±‚ä¼šè¢«åŠ ä¸Š fragment ï¼›
- map è¿”å›æ•°ç»„ç»“æ„ï¼Œä½œä¸º fragment çš„å­èŠ‚ç‚¹ã€‚
