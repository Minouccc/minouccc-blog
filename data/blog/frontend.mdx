---
title: 🚀 Frontend
date: '2022-01-01'
tags: ['frontend']
draft: false
summary:
---

## Vue

### vue 生态

### 1）关于 vue 的理解

**关键点**：`理解深度` | `避免标准答案`

**回答逻辑**：

1. 提框架设计。 `设计模式 MVVM(双向绑定) | 虚拟 DOM(vNode) | Diff 算法(就地服用原则) | Tree Shaking(ES module)`
2. 讲一下 vue2 和 vue3 的区别。`响应式(原理) | 组合式 API | 新特性(Teleport、Suspense、keep-alive、setup语法糖、插槽) | ts 集成 | 生命周期(重点关注多组件挂载顺序)`
3. 语法 `v-指令 | 修饰符 | 插槽`

**扩展问题**：react vs vue 框架

### 2）各种 API 设计初衷

**关键点**：`对比` | `实战运用`

**回答逻辑**：

1. ref 和 reactive。`proxy 性能损耗`
2. watch 和 watchEffect。`用法 | 作用`
3. watch 和 computed。`缓存 | 异步`
4. nextTick。`所有数据被更新都是以 promise 形式去执行(扩展: vue 从数据变更到视图响应中间发生了什么)`
5. 组合式 api 和 mixin。`业务复杂度 | 命名冲突导致全局数据污染(扩展：vue2 data为什么是一个 function)`

### 3）react vs vue 框架

**关键点**: `偏感受`

**回答逻辑**：

1. 感受: vue 代码维护上有一定优势、但 API 比较多；相比 react 就那么几个。
2. 设计理念：vue 是尽可能降低前端开发的门槛来适应不同的开发者,react 因为背靠大公司,不缺用户，都得照 react 制定得规则来。
   比如数据驱动方面，vue 是响应式的，react 是手 setState。
3. 社区支持: 决定开发人员解决问题的难易程度和速度。

### react 生态

### 1）关于 react 的理解

**关键点**：`16.8版本前后`

**回答逻辑**：

1. 类组件和函数式组件。`state 重新声明`
2. 底层。`fiber | jsx | 合成事件 | 更新流程`
3. setState 同步异步。`可调度范围 | 合成事件`
4. setState 和 useState 区别。`浅比较 | 新值获取 | 合并、替换`
5. useCallback / useMemo。
6. useEffect / useLayoutEffect。
7. 闭包陷阱。

## React

### 1）fiber

**相关问题**：

- **fiber 是什么**

  - fiber 诞生在 `Reactv16` 版本，整个 React 团队花费两年时间重构 fiber 架构，目的就是解决大型 React 应用卡顿；
  - fiber 在 React 中是最小粒度的执行单元，无论 React 还是 Vue ，在遍历更新每一个节点的时候都不是用的真实 DOM ，都是采用虚拟 DOM ，所以可以理解成 fiber 就是 React 的虚拟 DOM 。

- **为什么 react 需要 fiber 架构**

  - 在 `Reactv15` 以及之前的版本，React 对于虚拟 DOM 是采用递归方式遍历更新的，比如一次更新，就会从应用根部递归更新，递归一旦开始，中途无法中断，随着项目越来越复杂，层级越来越深，导致更新的时间越来越长，给前端交互上的体验就是卡顿。
  - `Reactv16` 为了解决卡顿问题引入了 fiber ，为什么它能解决卡顿，更新 fiber 的过程叫做 Reconciler（调和器），每一个 fiber 都可以作为一个执行单元来处理，所以每一个 fiber 可以根据自身的过期时间expirationTime（ v17 版本叫做优先级 lane ）来判断是否还有空间时间执行更新，如果没有时间更新，就要把主动权交给浏览器去渲染，做一些动画，重排（ reflow ），重绘 repaints 之类的事情，这样就能给用户感觉不是很卡。然后等浏览器空余时间，在通过 scheduler （调度器），再次恢复执行单元上来，这样就能本质上中断了渲染，提高了用户体验。

- **element,fiber,dom 三种什么关系**

  - fiber 可以说是是 element 和真实 DOM 之间的交流枢纽站

- **fiber 保存了那些信息**

  - 待补充

- **每一个 fiber 如何建立起关联的**

  - 每一个 element 都会对应一个 fiber ，每一个 fiber 是通过 return ， child ，sibling 三个属性建立起联系的。

- **fiber 更新机制**

  - 待补充

- **fiber 是如何实现时间切片的**

  - 待补充

- **fiber 是如何实现更新过程可控**

  - 待补充
